
    /* VARIABLES & RESET */
    :root {
        --bg-app: #FFFFFF;
        --bg-sidebar: #F7F7F5; /* Notion Sidebar Grey */
        --bg-hover: #EFEFEF;
        --bg-active: #E6E6E6;
        --border-subtle: #E0E0E0;
        --text-primary: #37352F;
        --text-secondary: #787774; /* Muted text */
        --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
        --transition: all 0.2s ease;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
        font-family: var(--font-main);
        color: var(--text-primary);
        background: var(--bg-app);
        height: 100vh;
        overflow: hidden;
    }

    /* LAYOUT: SPLIT PANE */
    .workspace-layout {
        display: grid;
        grid-template-columns: 280px 1fr; /* Fixed sidebar, flexible content */
        height: 100vh;
        width: 100vw;
    }

    /* --- SIDEBAR (LEFT PANE) --- */
    .notes-sidebar {
        background: var(--bg-sidebar);
        border-right: 1px solid var(--border-subtle);
        display: flex;
        flex-direction: column;
    }

    .sidebar-header {
        padding: 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid transparent; /* Keeps height consistent */
    }

    .sidebar-header h2 {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .scroll-container {
        flex: 1;
        overflow-y: auto;
        padding: 8px;
    }

    /* --- NOTES LIST ITEMS (The Critical UI Contract) --- */
    ul#notes-list {
        list-style: none;
    }

    /* Styling the list items injected by existing JS */
    ul#notes-list li {
        padding: 12px 14px;
        margin-bottom: 4px;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.1s;
        
        /* VISUAL TRICK: The JS injects full content here. 
           We clamp it to create a preview card. */
        height: 85px; 
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 4px;
        
        /* Typography for the list preview */
        font-size: 13px;
        color: var(--text-secondary);
        line-height: 1.5;
    }

    ul#notes-list li:hover {
        background: var(--bg-hover);
    }

    ul#notes-list li.active-note {
        background: var(--bg-active);
        color: var(--text-primary);
    }

    /* Target the <strong> tag from existing logic */
    ul#notes-list li strong {
        display: block;
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 2px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Fade out effect for bottom of preview */
    ul#notes-list li::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 25px;
        background: linear-gradient(to bottom, transparent, var(--bg-sidebar));
        pointer-events: none;
    }
    
    ul#notes-list li:hover::after {
        background: linear-gradient(to bottom, transparent, var(--bg-hover));
    }
    
    ul#notes-list li.active-note::after {
        background: linear-gradient(to bottom, transparent, var(--bg-active));
    }

    /* --- MAIN STAGE (RIGHT PANE) --- */
    .note-stage {
        background: var(--bg-app);
        overflow-y: auto;
        padding: 0;
        position: relative;
    }

    /* Empty State */
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: var(--text-secondary);
        text-align: center;
    }

    .empty-icon { font-size: 48px; margin-bottom: 16px; opacity: 0.5; }

    /* Note Content View */
    .note-content {
        max-width: 900px;
        margin: 0 auto;
        padding: 60px 80px;
        min-height: 100%;
    }

    .hidden { display: none; }

    .note-header { margin-bottom: 32px; }

    .editable-title {
        font-size: 32px;
        font-weight: 700;
        line-height: 1.2;
        color: var(--text-primary);
        margin-bottom: 12px;
    }

    .note-meta {
        font-size: 12px;
        color: var(--text-secondary);
        display: flex;
        gap: 8px;
    }

    /* Typography for the Content */
    .typography-body {
        font-size: 16px;
        line-height: 1.6;
        color: var(--text-primary);
    }

    /* Helper for mocked fetchJSON if testing locally */
    .loading-placeholder { color: #aaa; padding: 20px; font-size: 13px; text-align: center; }